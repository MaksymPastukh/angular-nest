<header class="w-full border-b border-gray-300 bg-white top-0 z-50 shadow-sm">
  <div class="container mx-auto px-4 py-3 sm:py-4 lg:py-6">
    <div class="flex items-center justify-between gap-2 sm:gap-4 lg:gap-6">
      <a [routerLink]="['/']" class="flex-shrink-0">
        <svg
          width="93"
          height="45"
          viewBox="0 0 93 45"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          class="w-14 h-7 sm:w-20 sm:h-10 lg:w-[93px] lg:h-[45px]"
        >
          <path
            d="M3.8923 27.3907C4.15842 27.3408 4.45781 27.3076 4.79046 27.3076C4.84036 25.5611 5.83831 22.6671 6.9028 19.6732C5.90484 19.5235 5.05658 19.5235 4.54097 19.8728C4.17505 18.4257 5.55556 18.143 7.45168 18.1763C8.433 15.3986 9.38106 12.6875 9.58065 10.8745C8.00055 10.7747 6.60341 10.9411 5.72189 11.939C5.43913 12.2384 4.67403 8.46282 8.13361 7.83078C10.9445 7.31517 16.9323 9.61047 18.8117 6.96588C19.0945 6.58333 19.3274 10.0429 17.4479 10.9743C16.2503 11.5565 14.6702 11.49 13.0236 11.2904C12.7907 12.8871 11.9258 15.5317 11.0277 18.4091C12.9903 18.5422 14.7201 18.5255 15.086 17.5941C15.6682 21.0703 13.1899 20.9539 10.4289 20.3884C9.66381 22.9498 8.94861 25.5445 8.68249 27.6568C11.0942 27.9396 13.5059 28.0394 14.5704 26.5258C14.8532 26.1433 15.086 29.6029 13.2066 30.5177C9.9133 32.1476 3.8424 28.8211 1.48057 31.4823C1.19782 31.7817 0.432716 28.0061 3.8923 27.3907ZM17.9136 17.1617C17.897 17.0951 21.5894 16.7625 21.5229 18.8915C21.473 20.2553 18.2795 27.241 18.9448 29.4864C20.5748 27.4074 24.9159 17.1617 24.9159 17.1617C24.8993 17.0951 28.5917 16.7625 28.5086 18.8915C28.4587 20.272 25.6644 25.8439 25.9471 29.5862C27.2278 28.239 28.7747 24.5299 29.0574 23.8313C29.0907 23.7648 29.1572 23.7316 29.2238 23.7316C29.3568 23.7316 29.44 23.848 29.4067 23.9644C29.0075 25.1952 27.3443 30.2682 26.4794 30.7838C25.4814 31.3992 22.7703 30.368 22.5208 29.2369C22.0385 27.1412 24.0677 22.1515 24.7496 19.141C23.419 22.6172 20.3419 30.4179 19.2775 30.8836C18.2961 31.2994 15.6349 30.4511 15.4187 29.1205C15.0195 26.7088 18.4292 19.0911 17.9136 17.1617ZM25.3151 38.9171C24.6332 34.7257 30.9868 20.6213 30.3215 17.1284C30.3049 17.0619 34.147 17.1284 33.9142 19.2407C33.6979 21.2533 30.8371 29.187 29.4899 35.0916C31.9016 26.1433 36.5421 17.6773 37.2573 17.2615C37.906 16.8789 39.9019 17.4444 40.7169 18.8748C41.8146 20.8042 39.4861 30.1185 35.6273 30.9002C34.7624 31.0832 32.7166 29.8025 32.3008 29.2868C30.8704 32.9626 29.5398 37.0709 28.9077 40.8631C28.8246 41.2623 25.5978 40.6469 25.3151 38.9171ZM37.6066 18.3093C37.3904 18.2262 34.8289 22.8667 32.4837 28.8045C35.5608 30.5343 38.3883 18.6253 37.6066 18.3093ZM40.3842 28.9875C39.7023 24.7794 46.1391 10.1926 45.7067 7.08231C45.69 7.01578 49.2162 7.19874 48.9833 9.31108C48.7504 11.49 45.374 20.6712 44.243 26.6589C45.8564 22.6671 48.6673 16.9621 50.2806 17.1118C51.2121 17.1949 53.0915 18.0765 53.2579 18.642C53.7236 20.2054 50.4636 27.3408 50.3971 29.7027C51.6944 28.4552 53.3244 24.5465 53.6072 23.8313C53.6404 23.7648 53.707 23.7316 53.7735 23.7316C53.9065 23.7316 53.9897 23.848 53.9564 23.9644C53.5573 25.1952 51.7277 30.8337 50.9958 30.9335C49.5488 31.1331 47.1038 30.0852 46.9042 28.7712C46.6547 26.9915 49.4989 21.22 49.7817 18.4257C48.95 18.2927 43.9436 28.3055 43.9769 30.8836C44.0767 31.3493 40.6836 30.7505 40.3842 28.9875ZM53.4076 28.7546C52.4262 25.977 54.655 19.0245 57.1665 17.4112C58.0314 16.8457 60.3766 16.9953 61.1251 17.4943C61.7738 17.9101 61.358 18.3093 61.358 18.3093C58.6468 17.0452 55.4534 28.8211 56.7008 29.9688C58.1479 31.2994 61.5908 20.405 59.5117 19.9726C59.5117 19.9726 60.4764 18.6087 61.3081 18.7085C64.1855 19.0911 62.0066 28.871 57.9815 30.7671C56.8838 31.2828 54.2725 31.183 53.4076 28.7546ZM62.1231 29.1538C61.6906 26.5092 64.9672 19.0578 64.435 17.1284C64.4184 17.0619 68.3104 16.7625 68.2439 18.8915C68.194 20.089 66.0816 24.4468 65.7157 28.0228C66.9798 24.0975 69.8739 16.9454 71.6702 17.1118C72.6016 17.1949 74.2316 17.96 74.3979 18.5089C74.6141 19.2407 72.3854 22.7336 72.9841 24.8958C68.0276 24.6796 71.2377 19.0744 71.1712 18.4257C70.3396 18.2927 65.882 28.2057 65.8987 30.8004C65.9153 30.9002 65.7989 30.9667 65.7157 30.9501C65.0005 30.8669 62.3393 30.4844 62.1231 29.1538ZM79.3544 16.8623C74.5975 16.2302 77.6246 13.5524 77.4251 11.7893C82.5812 12.621 78.9386 14.4007 79.3544 16.8623ZM72.9675 29.1538C72.5018 26.609 75.9281 19.0578 75.4125 17.1284C75.3959 17.0619 79.2546 16.7625 79.1881 18.8915C79.1382 20.272 76.3772 25.7607 76.6101 29.5031C77.8741 28.0893 79.3711 24.5133 79.6538 23.8313C79.6705 23.7648 79.737 23.7316 79.8201 23.7316C79.9366 23.7316 80.0197 23.848 79.9865 23.9644C79.6039 25.1952 77.791 30.5177 76.9926 30.9002C76.1776 31.2661 73.1837 30.4012 72.9675 29.1538ZM82.9138 30.8836C82.315 31.2994 79.6206 30.5676 79.0052 29.4532C78.2068 28.0228 80.2027 20.7709 82.0323 18.4257C83.4627 16.6128 86.5564 17.0619 87.2882 17.4943C87.4712 17.5941 87.5377 17.6939 87.4379 17.9767C87.3215 18.2927 87.0886 18.2262 86.7227 18.1264C84.8598 17.644 82.0656 27.8564 82.2485 29.9355L88.1864 17.2947C88.3859 16.7459 91.9121 17.6606 91.5794 18.3592C91.2468 19.0578 88.8184 27.3408 88.7519 29.7027C90.0492 28.4552 91.6958 24.5465 91.9786 23.8313C92.0119 23.7648 92.0784 23.7316 92.1449 23.7316C92.2613 23.7316 92.3611 23.848 92.3112 23.9644C91.9287 25.1952 90.0991 30.8337 89.3673 30.9335C87.9036 31.1331 85.4586 30.0852 85.2756 28.7712C85.1093 27.6568 86.0241 24.2139 86.8724 21.3864C85.4087 25.1786 83.2465 30.6507 82.9138 30.8836Z"
            fill="#3C4242"
          />
          <path
            d="M1 33.6259H23.4033"
            stroke="#333333"
            stroke-width="0.420324"
            stroke-miterlimit="10"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
          <path
            d="M32.9857 33.6259H92.0362"
            stroke="#3C4242"
            stroke-width="0.420324"
            stroke-miterlimit="10"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
        </svg>
      </a>

      @if (authState.isAuthenticated()) {
        <nav class="hidden xl:block">
          <ul
            class="flex items-center gap-6 lg:gap-8 xl:gap-10 text-base font-medium text-gray-800"
          >
            <li>
              <a
                routerLink="/catalog/products"
                routerLinkActive="!text-purple-600"
                [routerLinkActiveOptions]="{ exact: true }"
                class="hover:text-purple-600 transition-colors"
              >
                Shop
              </a>
            </li>
            <li>
              <a
                [routerLink]="['/catalog/products']"
                [queryParams]="{ category: 'Men' }"
                routerLinkActive="!text-purple-600"
                class="hover:text-purple-600 transition-colors"
              >
                Men
              </a>
            </li>
            <li>
              <a
                [routerLink]="['/catalog/products']"
                [queryParams]="{ category: 'Women' }"
                routerLinkActive="!text-purple-600"
                class="hover:text-purple-600 transition-colors"
              >
                Women
              </a>
            </li>
            <li>
              <a
                [routerLink]="['/catalog/products']"
                [queryParams]="{ category: 'Combos' }"
                routerLinkActive="!text-purple-600"
                class="hover:text-purple-600 transition-colors"
              >
                Combos
              </a>
            </li>
            <li>
              <a
                [routerLink]="['/catalog/products']"
                [queryParams]="{ category: 'Joggers' }"
                routerLinkActive="!text-purple-600"
                class="hover:text-purple-600 transition-colors"
              >
                Joggers
              </a>
            </li>
          </ul>
        </nav>
      }

      <div class="hidden sm:block flex-1 md:max-w-xs lg:max-w-sm xl:max-w-md">
        <!-- <p-autocomplete
          [(ngModel)]="searchQuery"
          [suggestions]="searchSuggestions()"
          (completeMethod)="searchProducts($event)"
          (onSelect)="onProductSelect($event)"
          [dropdown]="false"
          [minLength]="2"
          placeholder="Search for products..."
          optionLabel="title"
          [showEmptyMessage]="true"
          emptyMessage="No products found"
          class="w-full"
          [inputStyleClass]="'w-full h-10 sm:h-11 bg-gray-100 rounded-lg outline-none pl-10 sm:pl-12 pr-3 sm:pr-4 text-sm focus:ring-2 focus:ring-purple-500 transition-all'"
        >
          <ng-template let-product pTemplate="item">
            <div class="flex items-center gap-3 py-2 w-full">
              <img
                [src]="product.image | imageUrl"
                [alt]="product.title"
                class="w-12 h-12 object-cover rounded flex-shrink-0"
              />
              <div class="flex-1 min-w-0">
                <div class="font-semibold text-sm truncate">{{ product.title }}</div>
                <div class="text-xs text-gray-500">{{ product.brand }}</div>
              </div>
              <div class="font-bold text-purple-600 flex-shrink-0">${{ product.price }}</div>
            </div>
          </ng-template>
        </p-autocomplete> -->
      </div>

      @if (authState.isAuthenticated()) {
        <div class="flex items-center gap-2 sm:gap-3">
          <!-- Wishlist -->
          <a
            [routerLink]="['/']"
            class="flex-shrink-0 transition-transform duration-150 ease-in-out hover:scale-95 active:scale-90 [&.active]:scale-90"
          >
            <svg
              width="44"
              height="44"
              viewBox="0 0 44 44"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
              class="w-9 h-9 sm:w-11 sm:h-11"
            >
              <rect width="44" height="44" rx="8" fill="#F6F6F6" />
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M21.9949 16.9301C20.4953 15.1826 17.9948 14.7125 16.116 16.3127C14.2372 17.9129 13.9727 20.5884 15.4481 22.481C16.6749 24.0545 20.3873 27.3732 21.6041 28.4474C21.7402 28.5675 21.8083 28.6276 21.8877 28.6512C21.957 28.6718 22.0328 28.6718 22.1021 28.6512C22.1815 28.6276 22.2495 28.5675 22.3857 28.4474C23.6024 27.3732 27.3149 24.0545 28.5416 22.481C30.017 20.5884 29.7848 17.8961 27.8737 16.3127C25.9626 14.7294 23.4944 15.1826 21.9949 16.9301Z"
                stroke="#807D7E"
                stroke-width="1.5"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
          </a>

          <!-- Profile -->
          <a
            [routerLink]="['/']"
            class="flex-shrink-0 transition-transform duration-150 ease-in-out hover:scale-95 active:scale-90 [&.active]:scale-90"
          >
            <svg
              width="44"
              height="44"
              viewBox="0 0 44 44"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
              class="w-9 h-9 sm:w-11 sm:h-11"
            >
              <rect width="44" height="44" rx="8" fill="#F6F6F6" />
              <path
                d="M21.9999 23.6667C24.3011 23.6667 26.1666 21.8012 26.1666 19.5C26.1666 17.1988 24.3011 15.3333 21.9999 15.3333C19.6987 15.3333 17.8333 17.1988 17.8333 19.5C17.8333 21.8012 19.6987 23.6667 21.9999 23.6667ZM21.9999 23.6667C18.318 23.6667 15.3333 25.9053 15.3333 28.6667M21.9999 23.6667C25.6818 23.6667 28.6666 25.9053 28.6666 28.6667"
                stroke="#807D7E"
                stroke-width="1.5"
                stroke-linecap="round"
              />
            </svg>
          </a>

          <!-- Cart -->
          <a
            [routerLink]="['/']"
            class="flex-shrink-0 transition-transform duration-150 ease-in-out hover:scale-95 active:scale-90 [&.active]:scale-90"
          >
            <svg
              width="44"
              height="44"
              viewBox="0 0 44 44"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
              class="w-9 h-9 sm:w-11 sm:h-11"
            >
              <rect width="44" height="44" rx="8" fill="#F6F6F6" />
              <path
                d="M14.5 15.3333H15.0053C15.8558 15.3333 16.5699 15.9738 16.6621 16.8193L17.3379 23.0141C17.4301 23.8596 18.1442 24.5 18.9947 24.5H26.205C26.9669 24.5 27.6317 23.9834 27.82 23.2452L28.9699 18.7359C29.2387 17.6821 28.4425 16.6574 27.355 16.6574H17.5M17.5206 27.5208H18.1456M17.5206 28.1458H18.1456M26.6873 27.5208H27.3123M26.6873 28.1458H27.3123M18.6667 27.8333C18.6667 28.2936 18.2936 28.6667 17.8333 28.6667C17.3731 28.6667 17 28.2936 17 27.8333C17 27.3731 17.3731 27 17.8333 27C18.2936 27 18.6667 27.3731 18.6667 27.8333ZM27.8333 27.8333C27.8333 28.2936 27.4602 28.6667 27 28.6667C26.5398 28.6667 26.1667 28.2936 26.1667 27.8333C26.1667 27.3731 26.5398 27 27 27C27.4602 27 27.8333 27.3731 27.8333 27.8333Z"
                stroke="#807D7E"
                stroke-width="1.5"
                stroke-linecap="round"
              />
            </svg>
          </a>
        </div>
      }

      @if (!authState.isAuthenticated()) {
        <div class="sm:w-[100px] flex-shrink-0">
          <p-select
            [(ngModel)]="selectedLanguage"
            name="language"
            [options]="languages"
            optionLabel="label"
            optionValue="value"
            styleClass="!border-0 !shadow-none !outline-none focus:!ring-0"
          />
        </div>
        <div class="flex items-center gap-2 sm:gap-6">
          <!-- Auth buttons -->
          <div class="flex items-center gap-3 sm:gap-6">
            <a
              [routerLink]="['/auth/login']"
              routerLinkActive="active"
              class="px-12 text-center text-lg font-medium h-[46px] flex items-center justify-center rounded-lg border border-[#3c4242] text-[#8a33fd] hover:bg-[#8a33fd] hover:text-white hover:border-transparent transition-all [&.active]:bg-[#8a33fd] [&.active]:text-white [&.active]:border-transparent leading-none"
            >
              Login
            </a>
            <a
              [routerLink]="['/auth/register']"
              routerLinkActive="active"
              class="px-12 text-center text-lg font-medium h-[46px] flex items-center justify-center rounded-lg border border-[#3c4242] text-[#8a33fd] hover:bg-[#8a33fd] hover:text-white hover:border-transparent transition-all [&.active]:bg-[#8a33fd] [&.active]:text-white [&.active]:border-transparent leading-none"
            >
              Sign Up
            </a>
          </div>
        </div>
      }
    </div>

    <!-- Mobile search - показывается только на мобильных -->
    <div class="block sm:hidden mt-3">
      <!-- <p-autocomplete
        [(ngModel)]="searchQuery"
        [suggestions]="searchSuggestions()"
        (completeMethod)="searchProducts($event)"
        (onSelect)="onProductSelect($event)"
        [dropdown]="false"
        [minLength]="2"
        placeholder="Search for products..."
        optionLabel="title"
        [showEmptyMessage]="true"
        emptyMessage="No products found"
        class="w-full"
        [inputStyleClass]="'w-full h-10 bg-gray-100 rounded-lg outline-none pl-10 pr-3 text-sm focus:ring-2 focus:ring-purple-500 transition-all'"
      >
        <ng-template let-product pTemplate="item">
          <div class="flex items-center gap-3 py-2 w-full">
            <img
              [src]="product.image | imageUrl"
              [alt]="product.title"
              class="w-12 h-12 object-cover rounded flex-shrink-0"
            />
            <div class="flex-1 min-w-0">
              <div class="font-semibold text-sm truncate">{{ product.title }}</div>
              <div class="text-xs text-gray-500">{{ product.brand }}</div>
            </div>
            <div class="font-bold text-purple-600 flex-shrink-0">${{ product.price }}</div>
          </div>
        </ng-template>
      </p-autocomplete> -->
    </div>
  </div>
</header>
